<html>
<head>
<title></title>
<SCRIPT type="text/javascript">
function checkAll(cb) {
	var total = document.getElementById("hf_totalCK").value;
	for(var i = 0; i < total; i++) {
		document.getElementById("ck_customer_" + i).checked = cb.checked;
	}
}
    </SCRIPT>
<script type='text/javascript'>
var xmlHttpCheckUserCreate;
var xmlHttpCheckPasswordFirst;
var xmlHttpCheckPassword;
//创建XMLHttpRequest对象
function createXMLHttpRequest(){
		  			if(window.XMLHttpRequest){
		  				xmlHttpCheckUserCreate = new XMLHttpRequest();
		  				xmlHttpCheckPassword = new XMLHttpRequest();
		  				xmlHttpCheckPasswordFirst = new XMLHttpRequest();
		  			}else if(window.ActiveXObject){
		  				try{
		  					xmlHttpCheckUserCreate = new ActiveXObject("MsXml2.XMLHTTP");
		  					xmlHttpCheckPassword = new ActiveXObject("MsXml2.XMLHTTP");
		  					xmlHttpCheckPasswordFirst = new ActiveXObject("MsXml2.XMLHTTP");
		  				}catch(e){
		  					try{
		  						xmlHttpCheckUserCreate = new ActiveXObject("Microsoft.XMLHttp");
		  						xmlHttpCheckPassword = new ActiveXObject("Microsoft.XMLHttp");
		  						xmlHttpCheckPasswordFirst = new ActiveXObject("MsXml2.XMLHTTP");
		  					}catch(e){} 
		  				}
		  			}
		  		} 
		  		
function startRequestCheckUserCreate(select) {
	var userName = select.value;
    createXMLHttpRequest();
    xmlHttpCheckUserCreate.onreadystatechange = handleStateChange;
    xmlHttpCheckUserCreate.open("GET", "${context}/admin/ajax-CheckUserCreate.htm?userName=" + userName, true);
    xmlHttpCheckUserCreate.send(null);
}

function startRequestCheckPassword(select) {
	var passwordAgain = select.value;
	var password = document.getElementById("form_pf_userPassword").value;
    createXMLHttpRequest();
    xmlHttpCheckPassword.onreadystatechange = handleStateChange;
    xmlHttpCheckPassword.open("GET", "${context}/admin/ajax-CheckPassword.htm?passwordAgain=" + passwordAgain + "&password=" + password, true);
    xmlHttpCheckPassword.send(null);
}

function startRequestCheckPasswordFirst(select) {
	var password = select.value;
    createXMLHttpRequest();
    xmlHttpCheckPasswordFirst.onreadystatechange = handleStateChange;
    xmlHttpCheckPasswordFirst.open("GET", "${context}/admin/ajax-CheckPasswordFirst.htm?password=" + password, true);
    xmlHttpCheckPasswordFirst.send(null);
}

function handleStateChange() {
    if(xmlHttpCheckUserCreate.readyState == 4) {
        if(xmlHttpCheckUserCreate.status == 200) {
            document.getElementById("CheckUserCreate").innerHTML = xmlHttpCheckUserCreate.responseText;
       	}
    }
    if(xmlHttpCheckPassword.readyState == 4) {
        if(xmlHttpCheckPassword.status == 200) {
            document.getElementById("CheckPassword").innerHTML = xmlHttpCheckPassword.responseText;
       	}
    }
    if(xmlHttpCheckPasswordFirst.readyState == 4) {
        if(xmlHttpCheckPasswordFirst.status == 200) {
            document.getElementById("CheckPasswordFirst").innerHTML = xmlHttpCheckPasswordFirst.responseText;
       	}
    }
}

</script>
</head>
<body>
<div class="box" />
<div id="title">$title</div>
$form.startTag()
<TABLE>
	<TR>
		<TD>$form.getField("tf_userName").label:</TD>
		<TD>$form.getField("tf_userName")</TD>
		<TD>
		<DIV id="CheckUserCreate"></DIV>
		</TD>
	</TR>
	<TR>
		<TD>$form.getField("pf_userPassword").label:</TD>
		<TD>$form.getField("pf_userPassword")</TD>
		<TD>
		<DIV id="CheckPasswordFirst"></DIV>
		</TD>
	</TR>
	<TR>
		<TD>$form.getField("pf_userPasswordAgain").label:</TD>
		<TD>$form.getField("pf_userPasswordAgain")</TD>
		<TD>
		<DIV id="CheckPassword"></DIV>
		</TD>
	</TR>
	<TR>
		<TD>$form.getField("email").label:</TD>
		<TD>$form.getField("email")</TD>
		<TD></TD>
	</TR>
	<!-- 
	<TR>
		<TD>$form.getField("cb_all").label:</TD>
		<TD>$form.getField("cb_all")</TD>
		<TD></TD>
	</TR>
	<TR>
		<TD>$form.getField("ck_customer").label:</TD>
		<TD>$form.getField("ck_customer")</TD>
		<TD></TD>
	</TR>
	 -->
	<TR>
		<TD>$form.getField("sel_role").label:</TD>
		<TD>$form.getField("sel_role")</TD>
		<TD></TD>
	</TR>
	<TR>
		<TD>$form.getField("sel_language").label:</TD>
		<TD>$form.getField("sel_language")</TD>
		<TD></TD>
	</TR>
	<TR>
		<TD colspan="3">$form.getField("submit") $form.getField("reset")
		$form.getField("return")</TD>
	</TR>
</TABLE>
$form.endTag()
</body>
</html>