<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.5" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

    <display-name>Password Change Web App</display-name>

    <!-- The following configuration are best set in your containers deployment descriptor. If your container does not have 
        the ability to do this then set them here. -->

    <!--
    <context-param>
        <description>Filesystem path of 'classpath:' URL to the logback configuration file</description>
        <param-name>logbackConfiguration</param-name>
        <param-value>/path/to/logback.xml</param-value>
   </context-param>
    
    <context-param>
        <description>Filesystem path to the dictionary against which passwords are checked.</description>
        <param-name>dictionaryPath</param-name>
        <param-value>/path/to/dictionary</param-value>
    </context-param>

    <context-param>
        <description>URL, minus the base DN, which authenticates the user and holds their password.</description>
        <param-name>ldapUrl</param-name>
        <param-value>ldap://ldap.example.org</param-value>
    </context-param>

    <context-param>
        <description>LDAP search base DN. LDAP searches are one level.</description>
        <param-name>ldapBaseDN</param-name>
        <param-value>ou=people,dc=example,dc=org</param-value>
    </context-param>

    <context-param>
        <description>LDAP field that identifiers the user.  Default value is 'uid'.</description>
        <param-name>ldapUserAttribute</param-name>
        <param-value>uid</param-value>
    </context-param>

    <context-param>
        <description>Length of time, as ISO8601 duration, to "remember" failed authentication attempts.  Default value is 10 minutes.</description>
        <param-name>failedAuthnRetryWindow</param-name>
        <param-value>PT10M</param-value>
    </context-param>

    <context-param>
        <description>Number of times, within the retry window, that a user may fail authentication before being locked out.  Default value is 3.</description>
        <param-name>failedAuthnRetryAttempts</param-name>
        <param-value>3</param-value>
    </context-param>

    <context-param>
        <description>Length of time, as ISO8601 duration, that a user is locked out of the change password tool after too many authentication failures.  Default value is 60 minutes.</description>
        <param-name>lockoutDuration</param-name>
        <param-value>PT1H</param-value>
    </context-param>
    -->
    
    <listener>
        <listener-class>net.shibboleth.utilities.java.support.logging.LogbackConfigurationListener</listener-class>    
    </listener>

    <servlet>
        <servlet-name>PasswordChangeServlet</servlet-name>
        <servlet-class>net.shibboleth.infra.passwd.PasswordChangeServlet</servlet-class>

        <!--
        <init-param>
            <description>Context-relative path of the change password JSP.  Default value is index.jsp</description>
            <param-name>changePassPagePath</param-name>
            <param-value>/index.jsp</param-value>
        </init-param>
        -->
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>PasswordChangeServlet</servlet-name>
        <url-pattern>/ChangePassword</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>

</web-app>
